<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:dt="http://github.com/dandelion/datatables" xmlns:ddl="http://www.thymeleaf.org/dandelion"	layout:decorator="adminpanel/fragments/mainAdminLayout">

<head>
<title th:text="#{loggedUsers.title}">Logged users</title>
</head>
<body ddl:bundle-excludes="jquery">
	<div layout:fragment="pageContent">
			
			<div th:if="${message}" class="alert alert-success" > 
			<a href="#" class="close" data-dismiss="alert">&times;</a> 
			<span th:text="${message}">Cool</span>
			</div>
			<h3 class="sub-header" th:text="#{loggedUsers.title}">Listing  photos</h3>
					
			
			
			<div class="table-responsive">
				<table id="listLoggedUsers" class="table table-striped table-bordered table-hover" dt:table="true" dt:autoWidth="true" dt:pageable="false" >
					<thead>
						<tr>
							
							<th class="col-sm-2" th:text="#{user.username}" dt:sortable="false" dt:searchable="false" dt:filterable="false">user Name</th>
							<th class="col-sm-3" th:text="#{user.authorities}">authorities</th>														
							<th class="col-sm-1" th:text="#{user.accountNonExpired}" dt:searchable="false" >accountNonExpired</th>							
							<th class="col-sm-1" th:text="#{user.credentialsNonExpired}" dt:searchable="false" >credentialsNonExpired</th>
							<th class="col-sm-1" th:text="#{user.accountNonLocked}" dt:searchable="false" >accountNonLocked}</th>
							<th class="col-sm-1"  th:text="#{user.lastRequest}" dt:searchable="false" dt:filterable="false" dt:sortable="false">Last request</th> 			
							<th>#</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="user : ${users}" th:classappend="${userStat.odd}? 'odd'">
								
								<td th:text="${user.username}"></td>
								<td th:text="${user.authorities}"></td>
								<td th:text="${user.accountNonExpired}"></td>
								<td th:text="${user.credentialsNonExpired}"></td>
								<td th:text="${user.accountNonLocked}"></td>					
								<td th:text="${#dates.format(user.lastRequest, 'dd/MM/yyyy HH:mm:ss')}"></td>					
						
							
							<td >
							     <a  href="#" th:href="@{/admin/logoutSession(sessionId=${user.sessionId})}">
									
											<button type="button" class="btn btn-default btn-xs">
         									  <span class="glyphicon glyphicon-pencil"></span>&nbsp; <span th:text="#{loggedUsers.logout}">Log out</span>
       								 		 </button>
										
									 </a>

									
								</td> 
						</tr>
						<tr th:remove="all">
							<td>1,002</td>
							<td>amet</td>
							<td>elit</td>
							<td>elit</td>
						</tr>



					</tbody>
				</table>
			</div>

			<div th:replace="util :: paginator ">
				<ul class="pagination pagination-lg">
					<li><a href="#">&laquo;</a></li>
					<li><a href="#">1</a></li>
					<li><a href="#">2</a></li>
					<li><a href="#">3</a></li>
					<li><a href="#">4</a></li>
					<li><a href="#">5</a></li>
					<li><a href="#">&raquo;</a></li>
				</ul>
			</div>

			<div>				
			</div>		
</div>
	
</body>
</html>
