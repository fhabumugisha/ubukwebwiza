<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="" />
<meta name="author" content="" />
<!--<link rel="icon" href="../../favicon.ico">-->

<title layout:title-pattern="$DECORATOR_TITLE - $CONTENT_TITLE">Ububwebwiza admin panel</title>

<!-- Bootstrap core CSS -->
<link href="../../../resources/css/bootstrap.css" rel="stylesheet" th:href="@{/resources/css/bootstrap.css}" />
<link href="../../../resources/css/font-awesome.min.css" rel="stylesheet" th:href="@{/resources/css/font-awesome.min.css}" />
<link href="../../../resources/css/bootstrap-theme.min.css" rel="stylesheet" th:href="@{/resources/css/bootstrap-theme.min.css}" />
<!-- Custom styles for this template -->
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css" />
<link href="../../../resources/css/dashboard.css" rel="stylesheet" th:href="@{/resources/css/dashboard.css}" />
<link href="../../../resources/plugins/metismenu/metisMenu.min.css" rel="stylesheet"
	th:href="@{/resources/plugins/metismenu/metisMenu.min.css}" />

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../../../resources/js/ie-emulation-modes-warning.js"
    th:src="@{/resources/js/ie-emulation-modes-warning.js}"></script><![endif]-->
<script src="../../../resources/js/ie-emulation-modes-warning.js" type="text/javascript"
	th:src="@{/resources/js/ie-emulation-modes-warning.js}"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Ubukwebwiza</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#">Dashboard</a></li>
					<li><a href="#">Settings</a></li>
					<li><a href="#">Help</a></li>
					<li><a href="#" target="_blank" th:href="@{/}">Visite website</a></li>
					<li class="dropdown"><a id="dLabel" data-toggle="dropdown" href="#"> <span class="glyphicon glyphicon-user"></span>&nbsp;
							<span sec:authentication="name">Bob</span> &nbsp; <span class="caret"></span></a>
						<ul class="dropdown-menu no-collapse" role="menu" aria-labelledby="dLabel">
							<li>
								<form class="navbar-form" data-th-action="@{/logout}" method="post" action="">
									<label for="mySubmit" class="btn">
									<span class="glyphicon glyphicon-log-out"></span> &nbsp;Log Out</label> <input id="mySubmit"
										type="submit" value="Go" class="hidden" />
								</form>
							</li>
						</ul></li>
				</ul>
				<div class="dropdown pull-right " style="padding-top: 10px; margin-right: 10px;"></div>
				<form class="navbar-form navbar-right" action="">
					<input type="text" class="form-control" placeholder="Search..." />
				</form>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<!-- Sidebar -->
			<div class="col-sm-3 col-md-2 sidebar">
				<ul class="nav nav-sidebar" id="menu">
					<li th:classappend="${currentMenu == 'dashbord' ? 'active' : ''}"><a href="#" th:href="@{/admin}">Overview <span
							class="sr-only">(current)</span></a></li>
					<li th:classappend="${currentMenu == 'reports' ? 'active' : ''}"><a href="#">Reports</a></li>
					<li th:classappend="${currentMenu == 'analytics' ? 'active' : ''}"><a href="#">Analytics</a></li>
					<li th:classappend="${currentMenu == 'export' ? 'active' : ''}"><a href="#">Export</a></li>
					<li th:classappend="${currentMenu == 'settings' ? 'active' : ''}"><a href="#" th:href="@{/admin/settings}">Settings</a></li>
					<li><a href="#">Menu 0 <span class="caret"></span></a>
						<ul class="collapse">
							<li><a href="#">item 0.1</a></li>
							<li><a href="#">item 0.2</a></li>
							<li><a href="#">onokumus</a></li>
							<li><a href="#">item 0.4</a></li>
						</ul></li>
				</ul>
				<ul class="nav nav-sidebar">
					<li th:classappend="${currentMenu == 'provinces' ? 'active' : ''}"><a href="#" th:href="@{/admin/provinces}">Provinces</a></li>
					<li th:classappend="${currentMenu == 'districts' ? 'active' : ''}"><a href="#" th:href="@{/admin/districts}">Districts</a></li>
					<li th:classappend="${currentMenu == 'weddingservices' ? 'active' : ''}"><a href="#" th:href="@{/admin/weddingservices}">Wedding
							services</a></li>
					<li th:classappend="${currentMenu == 'vendors' ? 'active' : ''}"><a href="#" th:href="@{/admin/vendors}">Vendors</a></li>
					<li th:classappend="${currentMenu == 'vendorweddingservices' ? 'active' : ''}"><a href="#"
						th:href="@{/admin/vendorweddingservices}">Vendor wedding service</a></li>
					<li th:classappend="${currentMenu == 'photos' ? 'active' : ''}"><a href="#" th:href="@{/admin/photos}">Photos</a></li>
					<li th:classappend="${currentMenu == 'administrators' ? 'active' : ''}"><a href="#" th:href="@{/admin/administrators}">Administrators</a></li>

				</ul>

			</div>
			<!-- END SIDE BAR -->
			<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
				<div class="row" th:if="${currentMenu != 'dashbord'}">
					<div class="col-sm-8 col-md-8">
					
					<div th:replace="util :: breadcrumbs">
						<!-- for static use -->
						<div id="breadcumbsContainer" >
							<ol class="breadcrumb container">
								<li class="active"><a href="index.html" th:href="@{/admin}">Dashord</a></li>
							</ol>
						</div>
					
					</div>
						
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12 col-md-12">
						<div layout:fragment="pageContent">
							<h1>Static content for prototyping purposes only</h1>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent scelerisque neque neque, ac elementum quam
								dignissim interdum. Phasellus et placerat elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent
								scelerisque neque neque, ac elementum quam dignissim interdum. Phasellus et placerat elit.</p>
						</div>
					</div>
				</div>
			</div>

		</div>
		
		<div id="dialog-confirm" title="Concfirm delete" style="display: none;" th:title="#{dialog.confirm.delete.title}">
  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" th:text="#{dialog.confirm.delete}"></span>These items will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>
	</div>

	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="../../../resources/js/jquery-2.1.1.min.js" th:src="@{/resources/js/jquery-2.1.1.min.js}" type="text/javascript"></script>
	<script src="../../../resources/js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}" type="text/javascript"></script>
	<script src="../../../../resources/js/holder.js" th:src="@{/resources/js/holder.js}" type="text/javascript"></script>
	<script src="../../../../resources/plugins/metismenu/metisMenu.min.js" th:src="@{/resources/plugins/metismenu/metisMenu.min.js}"
		type="text/javascript"></script>
	 	<script src="../../../resources/js/jquery-ui.min.js" th:src="@{/resources/js/jquery-ui.min.js}" type="text/javascript"></script>
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="../../../resources/js/ie10-viewport-bug-workaround.js" th:src="@{/resources/js/ie10-viewport-bug-workaround.js}"
		type="text/javascript"></script>
		<script  type="text/javascript"  src="../../../resources/js/bootstrap-filestyle.js" th:src="@{/resources/js/bootstrap-filestyle.js}"></script>
	<script type="text/javascript">
		$(function() {

			$('#menu').metisMenu();
			
			$(".deleteProvince").click(function(){
				var url = $(this).attr('href');
				console.log(url);
				 $("#dialog-confirm").dialog({
				      resizable: false,
				      height:200,
				      modal: true,
				      buttons: {
				        Delete: function() {
				        	
				         $( this ).dialog( "close" );
				        	location.href = url;
				       
				        },
				        Cancel: function() {
				          $( this ).dialog( "close" );
				        }
				      },
				        open: function() {
				            $('.ui-dialog-buttonpane').find('button:contains("Cancel")').addClass('btn-primary');
				            $('.ui-dialog-buttonpane').find('button:contains("Delete")').addClass('btn-default');
				        }
				    });
				 return false;
			}); 
			
			    
			function previewImage() {
		        var oFReader = new FileReader();
		        oFReader.readAsDataURL(document.getElementById("profilPicture").files[0]);

		        oFReader.onload = function (oFREvent) {
		            document.getElementById("profilPicturePreview").src = oFREvent.target.result;
		        };
		    };
		    $("#profilPicture").change(function(){
		     //   readURL(this);
		        previewImage();
		        $('#remove').show();
		    });
		    $('#remove').click(function(){
		    	$('#profilPicture').val('');
		    $("#profilPicturePreview").attr('src','holder.js/100%x150');
		    	$(this).hide();
		    })
		});
		
		function previewPicture() {
		    var oFReader = new FileReader();
		    oFReader.readAsDataURL(document.getElementById("picture").files[0]);

		    oFReader.onload = function (oFREvent) {
		        document.getElementById("picturePreview").src = oFREvent.target.result;
		    };
		};
		$("#picture").change(function(){
		 //   readURL(this);
		    previewPicture();
		    $('#removePicture').show();
		});
		$('#removePicture').click(function(){
			$('#picture').val('');
		$("#picturePreview").attr('src','holder.js/100%x150');
			$(this).hide();
		})

		$(function() {
		    $('#uploadPhotoForm').submit(function(event) {
		        event.preventDefault(); // prevent this form from being submited
		        var form = document.getElementById("uploadPhotoForm");
		        var oMyForm = new FormData(form);
		       // oMyForm.append("file", file2.files[0]);
		       
		        $.ajax({
		          url: form.action,
		          data: oMyForm,
		          dataType: 'text',
		          processData: false,
		          contentType: false,
		          type: 'POST',
		          success: function(data){
		        	  console.log(data);
		            $('#listPhotos-bloc').html(data);
		          }
		        });
		        form.reset();
		        return false;
		    });
		});

		  
	</script>
</body>

</html>
